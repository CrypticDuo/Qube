<!doctype html>
<html ng-app="QubeApp">

<head>
    <script type="text/javascript" src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js'></script>
    <script src="https://code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.2/angular.min.js"></script>
    <script src="/static/framework/pace/pace.min.js"></script>
    <script type="text/javascript" src="/static/framework/login-popup/js/jquery.leanModal.min.js"></script>
    <script src="../static/framework/looper/looper.min.js"></script>
    <script src="/static/javascript/qube.js"></script>
    <script src="/static/javascript/frontend.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="/static/fonts/Simple-Line-Icons-Webfont/simple-line-icons.css"/>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css">
    <link type="text/css" rel="stylesheet" href="/static/framework/login-popup/css/style.css" />
    <link type="text/css" rel="stylesheet" href="/static/framework/looper/looper.css" />
    <link rel="stylesheet" type="text/css" href="/static/css/final.css">
</head>

<body>
    <div id="QubePlaylist">
        <div ng-controller="QubeCont">
            <div class="sideMenu">
                <ul>
                    <li style="background-color:#1ab667;"><a class="category"><i style="font-size:20px; color:white;" class="icon-earphones"></i></a>
                    </li>
                    <li ng-class="{active: layout == 'main'}" ng-click="layout = 'main'"><a class="category"><i style="color:#4cb6cb" class="icon-social-youtube icon"></i></a>
                    </li>
                    <li ng-class="{active: layout == 'global'}" ng-click="layout = 'global'"><a class="category"><i style="color:#747bb9" class="icon-music-tone-alt"></i></a>
                    </li>
                </ul>
            </div>
            <!-- END OF sideMenu -->
            <div class="topHeader">
                <span>{{ currentPlaylist.name }}</span>
              <!-- TOP BAR GOES HERE -->
            </div>
            <!-- END OF topHeader -->
            <div class="playView">
                <div class="videolist">
                    <div class="player" style="position:relative; height:inherit; width:inherit;">
                        <div id="player"></div>
                    </div>

                    <ul class="userVideolist scrollbar sortable">
                        <li ng-repeat="video in videos" ng-class="{active: video.id == currentPlayingVideo.id}" ng-click="togglePlayVideo(video)" id="{{ video.id }}">
                            <a><i class="icon-music-tone-alt"></i></a>
                            <span class="title">{{video.snippet.title}}</span>
                            <span class="duration">{{video.contentDetails.duration}}</span>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- END OF playView -->
            <div class="mainView">
                <div ng-show="layout == 'main'" class="view main">
                    <div class="listDisplay">
                        <div class="playlistColumn" ng-show="listDisplay == 'playlist'">
                            <ul class="userPlaylist scrollbar">
                                <li ng-repeat="playlist in playlists | searchFor:searchString" ng-class="{active: currentPlaylist.name == playlist.name}" ng-click="changePlaylist(playlist)">
                                    <div class="playlistDetail">
                                        <img class="playlistThumbnail" src="{{ playlist.data[0].snippet.thumbnails.medium.url }}">
                                        <div class="title">{{playlist.name}}</div>
                                        <div class="duration">{{playlist.duration}}</div>
                                        <div class="float-right" id="playlistRemove" ng-click="removePlaylist(playlist)"><i class="icon-close"></i></div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <!-- END OF PLAYLIST COLUMN -->
                        <div class="searchResultColumn scrollbar" ng-show="listDisplay == 'youtube'">
                            <div class="video" ng-repeat="video in ytSearchResult">
                                <div class="video-image">
                                    <img class="video-image" src="{{ video.thumbnail }}">
                                </div>
                                <div class="video-detail">
                                    <div class="overflowEllipsis">
                                        <span class="video-title">{{ video.snippet.title }}</span>
                                    </div>
                                    <button class="ytVidHover addVideo" ng-click="addVideo(video, currentPlaylistOption)"><i class="icon-plus"></i></button>
                                    <select class="ytVidHover" ng-model="currentPlaylistOption">
                                        <option ng-repeat="playlist in playlists" value="{{playlist.name}}" ng-selected="playlist.name==currentPlaylist.name">{{playlist.name}}</option>
                                    </select>
                                    <span class="video-duration">{{ video.contentDetails.duration }}</span>
                                </div>
                            </div>
                        </div>
                    </div><!-- END OF LIST DISPLAY -->
                    <div class="listControl">
                        <ul>
                            <li class="lcSearch" ng-click="listDisplay = 'youtube'">
                                <span class="font-bold lcHeader">Find</span>
                                <span class="lcDescription">Search the youtube video you like</span>
                                <input ng-model="addVideoInput" ng-keypress="queryYoutube($event)" placeholder="Search for Youtube videos"></input>
                            </li>
                            <li class="lcPlaylist align-right" ng-click="listDisplay = 'playlist'">
                                <span class="font-bold lcHeader">Playlist</span>
                                <span class="lcDescription">Control your playlists</span>
                                <input type="text" ng-model="searchString" placeholder="Search Playlist">
                                <a id="addPlaylist" href="#addPlaylistModal">
                                    <i class="icon-plus"></i>
                                </a>
                            </li>
                            <li class="lcAddPlaylist"></li>
                        </ul>
                    </div><!-- END OF LIST CONTROL -->
                </div>
                <!-- END OF MAIN LAYOUT -->
            </div>
            <!-- END OF mainView -->
            <div class="bottomContainer">
                <div class="controllers-container noselect">
                    <ul class="controllers" style="font-size:15px;">
                        <li ng-click="prevVideo()"><i class="icon-control-rewind i-lg"></i></li>
                        <li ng-click="togglePlayVideo()"><i class="icon-control-play i-2x"></i></li>
                        <li ng-click="nextVideo()"><i class="icon-control-forward i-lg"></i></li>
                    </ul>
                </div>
                <div class="progressBar">
                    <div style="z-index:9999"><span>{{ currentVideo }}</span></div>
                    <div class="progressLevel"></div>
                </div>
                <div class="time">
                    <span class="timeStart">
                        00:00
                    </span>
                </div>
                <div class="time">
                    <span class="timeDuration">
                        {{ currentPlayingVideoDuration }}
                    </span>
                </div>
                <div class="volume-icon noselect">
                    <i class="icon-volume-2"></i>
                </div>
                <div class="volume noselect">
                    <div class="volumeBar-container">
                        <div class="volumeBar">
                            <div class="volumeLevel"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="addPlaylistModal" class="popupContainer" style="display:none;">
              <header class="popupHeader">
                <span class="header_title">New Playlist</span>
                <span class="modal_close"><i class="icon-close"></i></span>
              </header>

              <section class="popupBody">
                <div class="addPlaylistModalBody">
                  <input ng-model="addPlaylistInput"></input>
                  <button ng-click="addPlaylist()" class="modal_close"><i class="fa fa-floppy-o"></i></button>
                </div>
              </section>
            </div>
        </div>
        <!-- END OF NG-CONTROLLER -->
    </div>
</body>

</html>
